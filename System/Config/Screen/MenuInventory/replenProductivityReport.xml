<?xml version="1.0"?>
<!--DOCTYPE FLEXSCREEN SYSTEM "flexscreen.dtd" -->
<!--
  - COPYRIGHT (c) 2007 Queen City Software, Inc. All Rights Reserved.
  - No part of this copyrighted work may be reproduced, modified, or distributed
  - in any form or by any means without the prior written permission of Queen
  - City Software, Inc.
  -->

<FLEXSCREEN title = "Replen Productivity Report" 
            height = "600" 
            width = "800" 
            frametype = "internal"
            report = "false" >

  <!-- a dbConnect here is a universal connect object  -->
  <DBCONNECT type = "predefined" 
             connectionId = "default" 
             setglobal = "true"/>

  <GLOBAL_DEFINITIONS>
    <VECTOR name = "operators1"> 
       <ITEM value = " =" />
       <ITEM value = "like" />
    </VECTOR>

    <VECTOR name = "operators2"> 
       <ITEM value = " =" />
       <ITEM value = "&lt;" />
       <ITEM value = "&lt;=" />
       <ITEM value = "&lt;&gt;" />
       <ITEM value = "&gt;" />
       <ITEM value = "&gt;=" />
    </VECTOR>
    
    <VECTOR name = "operatorIn"> 
       <ITEM value = "in" />
       <ITEM value = "out" />
    </VECTOR>
    
    <VECTORMAP name = "orderBy" >
      <ITEM key = "Lines desc"      value = "Lines desc" />
      <ITEM key = "Lines"           value = "Lines" />
      <ITEM key = "Picks desc"      value = "Picks desc" />
      <ITEM key = "Picks"           value = "Picks" />
      <ITEM key = "Shorts desc"     value = "Shorts desc" />
      <ITEM key = "Shorts"          value = "Shorts" />
      <ITEM key = "Sku"             value = "sku" />
      <ITEM key = "Sku desc"        value = "sku desc" />
      <ITEM key = "OperatorId"      value = "OperatorId" />
      <ITEM key = "OperatorId desc" value = "OperatorId desc" />
      <ITEM key = "ZoneId"          value = "ZoneId" />
      <ITEM key = "ZoneId desc"     value = "ZoneId desc" />
    </VECTORMAP>
    
    <VECTORMAP name = "zones" >
      <ITEM key = ""         value = "" />
      <ITEM key = "all"      value = "*" />
      <ITEM key = "Zone 1"   value = "zone01" />
      <ITEM key = "Zone 2"   value = "zone02" />
      <ITEM key = "Zone 3"   value = "zone03" />
      <ITEM key = "Zone 4"   value = "zone04" />
      <ITEM key = "Zone 5"   value = "zone05" />
      <ITEM key = "Zone 6"   value = "zone06" />
      <ITEM key = "Zone 7"   value = "zone07" />
      <ITEM key = "Zone 8"   value = "zone08" />
     </VECTORMAP>
     
  </GLOBAL_DEFINITIONS>

  <REPORTS>
    <DBCONNECT type = "global" />
  </REPORTS>

  <TABPANE>
    <TAB title = "Tub Replens">
      <SPLITPANE  divider = "70" orientation = "vertical">
        <FLEXSQLMODIFIERCOMPONENT  name = "TubReplenFilter"
                                   orientation = "horizontal"
                                   appendAsAnd = "false"
                                   makeAbsolute = "false"
                                   autoResize = "false"
                                   autoExecute = "true"
                                   maxFilterRows = "1"
                                   editorWidth = "120"
                                   showCheckBoxes = "false"
                                   filterBorderText = "Filter Criteria"
                                   filterBorderColor = "blue"
                                   okButtonText = "Refresh"
                                   passiveMode = "true" >

         <FILTER_OPTION label = "Date"
                         altValue = "fromMonth"
                         editorType = "calendar"
                         autoQuote = "true" >
            <CALENDAR_OPTIONS  pastEnabled = "true" deselectEnabled = "true"
                               monthsPast = "6" monthsFuture = "0"
                               format = "yyyy-MM-dd"/>

          </FILTER_OPTION>

          <FILTER_OPTION label = "OperatorId" 
                         altValue = "operatorId" 
                         editorType = "text" 
                         autoQuote = "true" />
                         
        </FLEXSQLMODIFIERCOMPONENT>

        <SPLITPANE  divider = "150" orientation = "vertical">
          <FLEXTABLECOMPONENT name = "TubReplenTable" 
                              init = "init" 
                              refresh = "true" 
                              greenbar = "true"
                              sortable = "true"
                              ignoreEventConcatenation = "false">

            <DBCONNECT type = "global" />
            <TRIGGER name = "TubReplenFilter" />
   
            <TABLE key = "TubReplenFilter:execute" >

              <SELECT sql = "call ReplenReportTub(//fromMonth, 
                                                  //operatorId)" />  

              <TABLECOLUMNS>
                <TABLECOLUMN name = "Day"
                             preferredWidth = "120"
                             maxWidth = "150"/>
                             
                <TABLECOLUMN name = "OperatorId"
                             preferredWidth = "100"/>
                             
                <TABLECOLUMN name = "Tubs"
                             align = "right"
                             preferredWidth = "30"/>
                             
                <TABLECOLUMN name = "SkuCt"
                             align = "right"
                             preferredWidth = "80"/>
                             
                <TABLECOLUMN name = "Qty"
                             maxWidth = "80"
                             align = "right"/>   
              </TABLECOLUMNS>
            </TABLE>
          </FLEXTABLECOMPONENT>

          <FLEXTABLECOMPONENT name = "TubDetailtable" 
                              init = "init" 
                              refresh = "true" 
                              greenbar = "true"
                              sortable = "true"
                              ignoreEventConcatenation = "false">

            <DBCONNECT type = "global" />
            <TRIGGER name = "TubReplenTable" />
   
            <TABLE key = "TubReplenTable:TubReplenFilter:execute" >
    
              <SELECT sql = "call ReplenReportTubByHour(//Day, 
                                                        //OperatorId)"  />
                                                 

              <TABLECOLUMNS>
                <TABLECOLUMN name = "DayHr"
                             preferredWidth = "120"
                             maxWidth = "150"/>
                             
                <TABLECOLUMN name = "OperatorId"
                             preferredWidth = "100"/>
                             
                <TABLECOLUMN name = "Tubs"
                             align = "right"
                             preferredWidth = "30"/>
                             
                <TABLECOLUMN name = "SkuCt"
                             align = "right"
                             preferredWidth = "80"/>
                             
                <TABLECOLUMN name = "Qty"
                             maxWidth = "80"
                             align = "right"/>   
              </TABLECOLUMNS>
            </TABLE>
          </FLEXTABLECOMPONENT>
        </SPLITPANE>
      </SPLITPANE>
    </TAB>
    
    <TAB title = "Floor Replens">
      <SPLITPANE  divider = "70" orientation = "vertical">
        <FLEXSQLMODIFIERCOMPONENT  name = "FloorReplenFilter"
                                   orientation = "horizontal"
                                   appendAsAnd = "false"
                                   makeAbsolute = "false"
                                   autoResize = "false"
                                   autoExecute = "true"
                                   maxFilterRows = "1"
                                   editorWidth = "120"
                                   showCheckBoxes = "false"
                                   filterBorderText = "Filter Criteria"
                                   filterBorderColor = "blue"
                                   okButtonText = "Refresh"
                                   passiveMode = "true" >

         <FILTER_OPTION label = "Date"
                         altValue = "fromMonth"
                         editorType = "calendar"
                         autoQuote = "true" >
            <CALENDAR_OPTIONS  pastEnabled = "true" deselectEnabled = "true"
                               monthsPast = "6" monthsFuture = "0"
                               format = "yyyy-MM-dd"/>

          </FILTER_OPTION>

          <FILTER_OPTION label = "OperatorId" 
                         altValue = "operatorId" 
                         editorType = "text" 
                         autoQuote = "true" />
                         
        </FLEXSQLMODIFIERCOMPONENT>

        <SPLITPANE  divider = "150" orientation = "vertical">
          <FLEXTABLECOMPONENT name = "FloorReplenTable" 
                              init = "init" 
                              refresh = "true" 
                              greenbar = "true"
                              sortable = "true"
                              ignoreEventConcatenation = "false">

            <DBCONNECT type = "global" />
            <TRIGGER name = "FloorReplenFilter" />
   
            <TABLE key = "FloorReplenFilter:execute" >

              <SELECT sql = "call ReplenReportFloor(//fromMonth, 
                                                    //operatorId)" />  

              <TABLECOLUMNS>
                <TABLECOLUMN name = "Day"
                             preferredWidth = "120"
                             maxWidth = "150"/>
                             
                <TABLECOLUMN name = "OperatorId"
                             preferredWidth = "100"/>
                             
                <TABLECOLUMN name = "Tubs"
                             align = "right"
                             preferredWidth = "30"/>
                             
                <TABLECOLUMN name = "SkuCt"
                             align = "right"
                             preferredWidth = "80"/>
                             
                <TABLECOLUMN name = "Qty"
                             maxWidth = "80"
                             align = "right"/>   
                             
                <TABLECOLUMN name = "ChangeLocation"
                             align = "right"
                             preferredWidth = "80"/>
                             
                <TABLECOLUMN name = "LocationFull"
                             maxWidth = "80"
                             align = "right"/>   
              </TABLECOLUMNS>
            </TABLE>
          </FLEXTABLECOMPONENT>

          <FLEXTABLECOMPONENT name = "FloorDetailTable" 
                              init = "init" 
                              refresh = "true" 
                              greenbar = "true"
                              sortable = "true"
                              ignoreEventConcatenation = "false">

            <DBCONNECT type = "global" />
            <TRIGGER name = "FloorReplenTable" />
   
            <TABLE key = "FloorReplenTable:FloorReplenFilter:execute" >
    
              <SELECT sql = "call ReplenReportFloorByHour(//Day, 
                                                          //OperatorId)"  />
                                                 

              <TABLECOLUMNS>
                <TABLECOLUMN name = "DayHr"
                             preferredWidth = "120"
                             maxWidth = "150"/>
                             
                <TABLECOLUMN name = "OperatorId"
                             preferredWidth = "100"/>
                             
                <TABLECOLUMN name = "Tubs"
                             align = "right"
                             preferredWidth = "30"/>
                             
                <TABLECOLUMN name = "SkuCt"
                             align = "right"
                             preferredWidth = "80"/>
                             
                <TABLECOLUMN name = "Qty"
                             maxWidth = "80"
                             align = "right"/>   
                             
                <TABLECOLUMN name = "ChangeLocation"
                             align = "right"
                             preferredWidth = "80"/>
                             
                <TABLECOLUMN name = "LocationFull"
                             maxWidth = "80"
                             align = "right"/>   
              </TABLECOLUMNS>
            </TABLE>
          </FLEXTABLECOMPONENT>
        </SPLITPANE>
      </SPLITPANE>
    </TAB>
  </TABPANE>
</FLEXSCREEN>
