<?xml version="1.0"?>
<!--
   - Filename:     locationMaintenance.xml
   - Description:
   -
   - (c) COPYRIGHT QC Software, LLC 2018 All Rights Reserved
   - No part of this copyrighted work may be reproduced, modified, or
   - distributed in any form or by any means without the prior written
   - permission of QC Software, LLC.
   -
   - $Id: locationMaintenance.xml 10242 2018-06-06 19:46:47Z wlw $
   - Notes:
  -->
<FLEXSCREEN title = "Location Maintenance" 
            height = "600" 
            width = "900" 
            frametype = "internal"
            report = "true"
            updateSecurity = "locationMaintenance.edit"
            insertSecurity = "locationMaintenance.edit"
            deleteSecurity = "locationMaintenance.edit">

  <!-- a dbConnect here is a universal connect object  -->
  <DBCONNECT type = "predefined" 
             connectionId = "default" 
             setglobal = "true"/>

  <GLOBAL_DEFINITIONS>
    <VECTORMAP name = "inventoryStatuses"
               loadSql = "select idx,
                                 returnCodeMsg
                            from MnemonicCodesView
                            where mnemonicType = 'INVENTORY_STATUSES'
                            order by idx" />
                            
    <VECTORMAP name = "locationZoneStatesCombo"
               loadSql = "select '' returnCodeMsg,
                                 '' idx
                          union
                          select returnCodeMsg,
                                 lpad(idx, 6, '0')
                            from MnemonicCodesView
                            where mnemonicType = 'LOCATION_ZONE_STATES'
                            order by idx" />
  
    <VECTORMAP name = "locationZoneStatusesCombo"
               loadSql = "select '' returnCodeMsg,
                                 '' idx
                          union
                          select returnCodeMsg,
                                 lpad(idx, 6, '0')
                            from MnemonicCodesView
                            where mnemonicType = 'LOCATION_ZONE_STATUSES'
                            order by idx" />
  
    <VECTORMAP name = "locationZoneFlagsCombo"
               loadSql = "select '' returnCodeMsg,
                                 '' idx
                          union
                          select returnCodeMsg,
                                 lpad(idx, 6, '0')
                            from MnemonicCodesView
                            where mnemonicType = 'LOCATION_ZONE_FLAGS'
                              and mnemonicCode not in('CYCLE_COUNT_PALLET')
                            order by idx" />
  
    <VECTORMAP name = "locationStatesCombo"
               loadSql = "select '' returnCodeMsg,
                                 '' idx
                          union
                          select returnCodeMsg,
                                 lpad(idx, 6, '0')
                            from MnemonicCodesView
                            where mnemonicType = 'LOCATION_STATES'
                            order by idx" />
  
    <VECTORMAP name = "locationStatusesCombo"
               loadSql = "select '' returnCodeMsg,
                                 '' idx
                          union
                          select returnCodeMsg,
                                 lpad(idx, 6, '0')
                            from MnemonicCodesView
                            where mnemonicType = 'LOCATION_STATUSES'
                              and mnemonicCode not in ('QUARANTINED',
                                                       'LOADING',
                                                       'LOADED',
                                                       'UNLOADING',
                                                       'NOT_AVAILABLE_NOT_SLOTTED',
                                                       'NOT_AVAILABLE_OFFLINE')
                            order by idx" />
  
    <VECTORMAP name = "locationFlagsCombo"
               loadSql = "select '' returnCodeMsg,
                                 '' idx
                          union
                          select returnCodeMsg,
                                 lpad(idx, 6, '0')
                            from MnemonicCodesView
                            where mnemonicType = 'LOCATION_FLAGS'
                              and mnemonicCode not in('MIXED_UNIT_STORAGE',
                                                      'REPLEN_SUT_MULTIPLE_PICK',
                                                      'REPLEN_SUT_CALCULATION',
                                                      'INACTIVE_SUT_SLOTTED')
                            order by idx" />
  
    <VECTORMAP name = "locationStates"
               loadSql = "select idx, 
                                 returnCodeMsg 
                            from MnemonicCodesView 
                            where mnemonicType = 'LOCATION_STATES' 
                            order by idx" />
                            
    <VECTORMAP name = "locationStatuses"
               loadSql = "select idx, 
                                 returnCodeMsg 
                            from MnemonicCodesView 
                            where mnemonicType = 'LOCATION_STATUSES' 
                              and mnemonicCode not in ('QUARANTINED',
                                                       'LOADING',
                                                       'LOADED',
                                                       'UNLOADING',
                                                       'NOT_AVAILABLE_NOT_SLOTTED',
                                                       'NOT_AVAILABLE_OFFLINE')
                            order by idx" />

    <VECTOR  name = "locationStatusesDialog"
             loadSql = "select returnCodeMsg 
                          from MnemonicCodesView 
                          where mnemonicType = 'LOCATION_STATUSES' 
                            and mnemonicCode not in ('QUARANTINED',
                                                     'LOADING',
                                                     'LOADED',
                                                     'UNLOADING',
                                                     'NOT_AVAILABLE_NOT_SLOTTED',
                                                     'NOT_AVAILABLE_OFFLINE')
                          order by idx" />


    <VECTOR name = "locationStatesDialog"
            loadSql = "select returnCodeMsg
                         from MnemonicCodesView 
                         where mnemonicType = 'LOCATION_STATES' 
                         order by idx" />

    <VECTORMAP name = "locationFlagsDialog"
               loadSql = "select returnCodeMsg, 
                                 idx 
                            from MnemonicCodesView 
                            where mnemonicType = 'LOCATION_FLAGS' 
                              and mnemonicCode not in('MIXED_UNIT_STORAGE',
                                                      'REPLEN_SUT_MULTIPLE_PICK',
                                                      'REPLEN_SUT_CALCULATION',
                                                      'INACTIVE_SUT_SLOTTED')
                            order by idx" />

    <VECTORMAP name = "locationZoneStatuses"
               loadSql = "select idx, 
                                 returnCodeMsg 
                            from MnemonicCodesView 
                            where mnemonicType = 'LOCATION_ZONE_STATUSES' 
                            order by idx" />
                            
    <VECTORMAP name = "locationZoneStates"
               loadSql = "select idx, 
                                 returnCodeMsg 
                            from MnemonicCodesView 
                            where mnemonicType = 'LOCATION_ZONE_STATES' 
                            order by idx" />
                            
    <VECTOR name = "locationZoneStatusesDialog"
            loadSql = "select returnCodeMsg 
                         from MnemonicCodesView 
                         where mnemonicType = 'LOCATION_ZONE_STATUSES' 
                         order by idx" />
                            
    <VECTOR name = "locationZoneStatesDialog"
            loadSql = "select returnCodeMsg 
                         from MnemonicCodesView 
                         where mnemonicType = 'LOCATION_ZONE_STATES' 
                         order by idx" />

    <VECTORMAP name = "locationZoneFlagsDialog"
               loadSql = "select returnCodeMsg, 
                                 idx
                            from MnemonicCodesView 
                            where mnemonicType = 'LOCATION_ZONE_FLAGS' 
                              and mnemonicCode not in('CYCLE_COUNT_PALLET')
                            order by idx" />
                            
    <VECTORMAP name = "masterZoneIds"
               loadSql = "select zoneId idx, 
                            zoneId returnCodeMsg 
                            from LocationZones 
                            where masterZoneId is null
                              order by zoneId" />
                                                      
    <VECTORMAP name = "storageUnitTypes"
               loadSql = "select '' idx, '' returnCodeMsg
                           union
                          select distinct storageUnitType idx, 
                                 storageUnitType returnCodeMsg 
                            from StorageUnitTypes 
                           where substring(storageUnitType, 1, 4) in ('tray', 'slee', 'pall', 'supp')
                           order by idx" />
                            
    <VECTORMAP name = "slotClasses"
               loadSql = "select '', ''
                          union
                          select slotClass idx, 
                                 description returnCodeMsg 
                            from slotClasses 
                              order by slotClass" />
 
    <VECTOR name = "masterZoneList"
            loadSql = "select ' ' masterZoneId
                        union
                       select distinct masterZoneId 
                         from locationZones 
                        where (masterZoneId is not null or masterZoneId like 'REPLEN.%') 
                        order by masterZoneId" />
                           
    <VECTOR name = "emptyZones" loadSql = "select ' ' zoneId" />
 
    <VECTOR name = "kitZones"
            loadSql = "select distinct lz.zoneId 
                        from LocationZones lz
                        join Locations l
                       where lz.masterZoneId = 'KIT'
                          or lz.zoneId = 'KIT'
                       order by lz.zoneId" />
                       
    <VECTOR name = "lostFoundZones"
            loadSql = "select distinct lz.zoneId 
                         from LocationZones lz
                         join Locations l
                        where lz.masterZoneId = 'LostFound'
                           or lz.zoneId = 'LostFound'
                        order by lz.zoneId" />
                        
    <VECTOR name = "manualPickZones"
            loadSql = "select distinct lz.zoneId 
                         from LocationZones lz
                         join Locations l
                        where lz.masterZoneId = 'ManualPick'
                           or lz.zoneId = 'ManualPick'
                        order by lz.zoneId" />
                        
    <VECTOR name = "opexZones"
            loadSql = "select distinct lz.zoneId 
                         from LocationZones lz
                         join Locations l
                        where lz.masterZoneId = 'OPEX'
                           or lz.zoneId = 'OPEX'
                        order by lz.zoneId" />
                        
    <VECTOR name = "opex1Zones"
            loadSql = "select distinct lz.zoneId 
                         from LocationZones lz
                         join Locations l
                        where lz.masterZoneId = 'OPEX.1'
                           or lz.zoneId = 'OPEX.1'
                        order by lz.zoneId" />
                        
    <VECTOR name = "opex1BZones"
            loadSql = "select distinct lz.zoneId 
                         from LocationZones lz
                         join Locations l
                        where lz.masterZoneId = 'OPEX.1B'
                           or lz.zoneId = 'OPEX.1B'
                        order by lz.zoneId" />
                        
    <VECTOR name = "overflowZones"
            loadSql = "select distinct lz.zoneId 
                         from LocationZones lz
                         join Locations l
                        where lz.masterZoneId = 'OVERFLOW_AREAS'
                           or lz.zoneId = 'OVERFLOW_AREAS'
                        order by lz.zoneId" />
                        
    <VECTOR name = "palletZones"
            loadSql = "select distinct lz.zoneId 
                         from LocationZones lz
                         join Locations l
                        where lz.masterZoneId = 'PALLET'
                           or lz.zoneId = 'PALLET'
                        order by lz.zoneId" />
                        
    <VECTOR name = "ptlZones"
            loadSql = "select distinct lz.zoneId 
                         from LocationZones lz
                         join Locations l
                        where lz.masterZoneId like 'PTL%'
                        order by lz.zoneId" />
                        
    <VECTOR name = "ptl01Zones"
         loadSql = "select distinct lz.zoneId 
                      from LocationZones lz
                      join Locations l
                     where lz.masterZoneId = 'PTL.ZN.01'
                        or lz.zoneId = 'PTL.ZN.01'
                     order by lz.zoneId" />
                      
    <VECTOR name = "ptl02Zones"
         loadSql = "select distinct lz.zoneId 
                      from LocationZones lz
                      join Locations l
                     where lz.masterZoneId = 'PTL.ZN.02'
                        or lz.zoneId = 'PTL.ZN.01'
                     order by lz.zoneId" />
                      
    <VECTOR name = "ptl03Zones"
         loadSql = "select distinct lz.zoneId 
                      from LocationZones lz
                      join Locations l
                     where lz.masterZoneId = 'PTL.ZN.03'
                        or lz.zoneId = 'PTL.ZN.01'
                     order by lz.zoneId" />
                      
    <VECTOR name = "ptl04Zones"
         loadSql = "select distinct lz.zoneId 
                      from LocationZones lz
                      join Locations l
                     where lz.masterZoneId = 'PTL.ZN.04'
                        or lz.zoneId = 'PTL.ZN.01'
                     order by lz.zoneId" />
                      
    <VECTOR name = "ptl05Zones"
         loadSql = "select distinct lz.zoneId 
                      from LocationZones lz
                      join Locations l
                     where lz.masterZoneId = 'PTL.ZN.05'
                        or lz.zoneId = 'PTL.ZN.01'
                     order by lz.zoneId" />
                      
    <VECTOR name = "ptl06Zones"
         loadSql = "select distinct lz.zoneId 
                      from LocationZones lz
                      join Locations l
                     where lz.masterZoneId = 'PTL.ZN.06'
                        or lz.zoneId = 'PTL.ZN.01'
                     order by lz.zoneId" />
                      
    <VECTOR name = "ptl07Zones"
         loadSql = "select distinct lz.zoneId 
                      from LocationZones lz
                      join Locations l
                     where lz.masterZoneId = 'PTL.ZN.07'
                        or lz.zoneId = 'PTL.ZN.01'
                     order by lz.zoneId" />
                      
    <VECTOR name = "ptl08Zones"
         loadSql = "select distinct lz.zoneId 
                      from LocationZones lz
                      join Locations l
                     where lz.masterZoneId = 'PTL.ZN.08'
                        or lz.zoneId = 'PTL.ZN.01'
                     order by lz.zoneId" />
                      
    <VECTOR name = "receivingZones"
         loadSql = "select distinct lz.zoneId 
                      from LocationZones lz
                      join Locations l
                     where lz.masterZoneId = 'RECEIVING'
                        or lz.zoneId = 'RECEIVING'
                     order by lz.zoneId" />
                      
    <VECTOR name = "replenZones"
         loadSql = "select distinct lz.zoneId 
                      from LocationZones lz
                      join Locations l
                     where lz.masterZoneId like 'REPLEN.%'
                        or lz.masterZoneId like 'REPLEN%'
                     order by lz.zoneId" />
                           
    <VECTOR name = "replenEvenZones"
         loadSql = "select distinct lz.zoneId 
                      from LocationZones lz
                      join Locations l
                     where lz.masterZoneId = 'REPLEN.EVEN'
                        or lz.zoneId = 'REPLEN.EVEN'
                     order by lz.zoneId" />
                     
    <VECTOR name = "replenOddZones"
         loadSql = "select distinct lz.zoneId 
                      from LocationZones lz
                      join Locations l
                     where lz.masterZoneId = 'REPLEN.ODD'
                        or lz.zoneId = 'REPLEN.ODD'
                     order by lz.zoneId" />
                     
    <VECTOR name = "reserveZones"
         loadSql = "select distinct lz.zoneId 
                      from LocationZones lz
                      join Locations l
                     where lz.masterZoneId = 'RESERVE'
                        or lz.zoneId = 'RESERVE'
                     order by lz.zoneId" />
                     
    <VECTOR name = "specialHandlingZones"
         loadSql = "select distinct lz.zoneId 
                      from LocationZones lz
                      join Locations l
                     where lz.masterZoneId = 'SPECIAL_HANDLING'
                        or lz.zoneId = 'SPECIAL_HANDLING'
                     order by lz.zoneId" />
                     
    <VECTOR name = "unassignedZones"
         loadSql = "select distinct lz.zoneId 
                      from LocationZones lz
                      join Locations l
                     where lz.masterZoneId = 'UNASSIGNED'
                        or lz.zoneId = 'UNASSIGNED'
                     order by lz.zoneId" />
 
    <VECTOR name = "operators1"> 
       <ITEM value = " =" />
       <ITEM value = "like" />
    </VECTOR>

    <VECTOR name = "operators2"> 
       <ITEM value = " =" />
       <ITEM value = "&lt;" />
       <ITEM value = "&lt;=" />
       <ITEM value = "&lt;&gt;" />
       <ITEM value = "&gt;" />
       <ITEM value = "&gt;=" />
    </VECTOR>
    
    <VECTOR name = "operatorIn"> 
       <ITEM value = "in" />
       <ITEM value = "out" />
    </VECTOR>
    
    <TABLECOLUMN name = "classColors"  >
    </TABLECOLUMN>
    
  </GLOBAL_DEFINITIONS>
   
  <REPORTS preview = "true" records = "1000">
    <DBCONNECT type = "global" />
  </REPORTS>

  <SPLITPANE  divider = "160">
    <FLEXSQLMODIFIERCOMPONENT  name = "LocationMaintFilter"
                               appendAsAnd = "false"
                               makeAbsolute = "true"
                               autoResize = "false"
                               autoExecute = "true"
                               labelsOnTop = "true"
                               maxFilterRows = "10"
                               editorWidth = "120"
                               showCheckBoxes = "false"
                               filterBorderText = "Filter Criteria"
                               filterBorderColor = "blue"
                               okButtonText = "Execute"
                               passiveMode = "false"
                               orientation = "vertical">

     <DBCONNECT type = "global" 
                connectionId = "default" />                    

      <FILTER_OPTION label = "MasterZone" 
                     altValue = "MasterZone" 
                     editorType = "custom" 
                     autoQuote = "true" >
          <COMMAND_COMBO name="MasterZone"
                         editable="false">
            <Model name="masterZone"
                   ifdef="masterZoneList"
                   loadEmptyItem="false" />
          </COMMAND_COMBO>
      </FILTER_OPTION>

      <FILTER_OPTION label = "Zone" 
                     altValue = "Zone" 
                     editorType = "custom" 
                     autoQuote = "true">
        <COMMAND_COMBO name = "Zone" editable = "false">
			    <TRIGGER name = "MasterZone" />
			      <Model name = " "                ifdef = "emptyZones" loadEmptyItem = "true"/>
			      <Model name = "KIT"              ifdef = "kitZones" loadEmptyItem = "true"/>
			      <Model name = "LostFound"        ifdef = "lostFoundZones" loadEmptyItem = "true"/>
			      <Model name = "ManualPick"       ifdef = "manualPickZones" loadEmptyItem = "true"/>
			      <Model name = "OPEX"             ifdef = "opexZones" loadEmptyItem = "true"/>
			      <Model name = "OPEX.1"           ifdef = "opex1Zones" loadEmptyItem = "true"/>
			      <Model name = "OPEX.1B"          ifdef = "opex1BZones" loadEmptyItem = "true"/>
			      <Model name = "OVERFLOW_AREAS"   ifdef = "overflowZones" loadEmptyItem = "true"/>
			      <Model name = "PALLET"           ifdef = "palletZones" loadEmptyItem = "true"/>
			      <Model name = "PTL"              ifdef = "ptlZones" loadEmptyItem = "true"/>
			      <Model name = "PTL.ZN.01"        ifdef = "ptl01Zones" loadEmptyItem = "true"/>
			      <Model name = "PTL.ZN.02"        ifdef = "ptl02Zones" loadEmptyItem = "true"/>
			      <Model name = "PTL.ZN.03"        ifdef = "ptl03Zones" loadEmptyItem = "true"/>
			      <Model name = "PTL.ZN.04"        ifdef = "ptl04Zones" loadEmptyItem = "true"/>
			      <Model name = "PTL.ZN.05"        ifdef = "ptl05Zones" loadEmptyItem = "true"/>
			      <Model name = "PTL.ZN.06"        ifdef = "ptl06Zones" loadEmptyItem = "true"/>
			      <Model name = "PTL.ZN.07"        ifdef = "ptl07Zones" loadEmptyItem = "true"/>
			      <Model name = "PTL.ZN.08"        ifdef = "ptl08Zones" loadEmptyItem = "true"/>  
			      <Model name = "RECEIVING"        ifdef = "receivingZones" loadEmptyItem = "true"/> 
			      <Model name = "REPLEN"           ifdef = "replenZones" loadEmptyItem = "true"/> 
			      <Model name = "REPLEN.EVEN"      ifdef = "replenEvenZones" loadEmptyItem = "true"/>
			      <Model name = "REPLEN.ODD"       ifdef = "replenOddZones" loadEmptyItem = "true"/>
			      <Model name = "RESERVE"          ifdef = "reserveZones" loadEmptyItem = "true"/>
			      <Model name = "SPECIAL_HANDLING" ifdef = "specialHandlingZones" loadEmptyItem = "true"/>
			      <Model name = "UNASSIGNED"       ifdef = "unassignedZones" loadEmptyItem = "true"/>
			  </COMMAND_COMBO>      
      </FILTER_OPTION>

      <FILTER_OPTION label = "Location" 
                     altValue = "locationId" 
                     editorType = "text" 
                     autoQuote = "true" />

      <FILTER_OPTION label = "Zones State"
                     altValue = "zoneState"
                     editorType = "combo"
                     autoQuote = "true">
        <COMBO_OPTIONS ifdef = "locationZoneStatesCombo"/>
      </FILTER_OPTION>

      <FILTER_OPTION label = "Zones Status"
                     altValue = "zoneStatus"
                     editorType = "combo"
                     autoQuote = "true">
        <COMBO_OPTIONS ifdef = "locationZoneStatusesCombo"/>
      </FILTER_OPTION>

      <FILTER_OPTION label = "Zones Flags"
                     altValue = "zoneFlag"
                     editorType = "combo"
                     autoQuote = "true">
        <COMBO_OPTIONS ifdef = "locationZoneFlagsCombo"/>
      </FILTER_OPTION>

      <FILTER_OPTION label = "Location Status"
                     altValue = "locationStatus"
                     editorType = "combo"
                     autoQuote = "true">
        <COMBO_OPTIONS ifdef = "locationStatusesCombo"/>
      </FILTER_OPTION>
      
      <FILTER_OPTION label = "Location State"
                     altValue = "locationState"
                     editorType = "combo"
                     autoQuote = "true">
        <COMBO_OPTIONS ifdef = "locationStatesCombo"/>
      </FILTER_OPTION>
      
      <FILTER_OPTION label = "Location Flags"
                     altValue = "locationFlag"
                     editorType = "combo"
                     autoQuote = "true">
        <COMBO_OPTIONS ifdef = "locationFlagsCombo"/>
      </FILTER_OPTION>
    </FLEXSQLMODIFIERCOMPONENT>

      <TABPANE>             
        <TAB title = "Areas">
          <FLEXTABLECOMPONENT name = "AreaTable" 
                              init = "init" 
                              greenbar="true" 
                              showMode = "false"
                              records = "250"
                              rowHeight = "15"                                  
                              ignoreEventConcatenation = "true">

            <DBCONNECT type = "global" />
            <TRIGGER name = "LocationMaintFilter" />

            <TABLE key = "LocationMaintFilter:execute" >
              <SELECT sql = "With MasterZones(zoneId) as
                             (
                               select distinct MasterZoneId
                                 from LocationZones
                                 where masterZoneId is not null
                             )
                             select lz.ZoneId,
                                    lz.Status,
                                    lz.Flags
                              from LocationZones lz
                              join MasterZones mz
                                on lz.zoneId = mz.zoneId" />
                                                     
              <UPDATE sql = "update LocationZones 
                               set flags = //Flags,
                                   status = //Status
                               where zoneId = //Zone" />                                   

              <TABLECOLUMNS >
                <TABLECOLUMN name = "Flags"  
                             align = "right" />
              </TABLECOLUMNS>              

              <ALTVALUES>
                <FIELD name = "MasterZoneId" 
                       ifdef = "masterZoneIds" />

                <FIELD name = "Status" 
                       ifdef = "locationZoneStatuses" />
                       
                <FIELD name = "State" 
                       ifdef = "locationZoneStates" />
              </ALTVALUES>
              
              <EDITOR restoreHide = "true" 
                      title = "Order Line"
                      saveText = "Save" 
                      cancelText = "Cancel">
                <FIELD name = "Status" 
                       required = "true">
                  <COMBO loadEmptyItem = "true" 
                         ifdef = "locationZoneStatusesDialog"/>
                </FIELD>
                <FIELD name = "Flags" 
                       required = "true">
                  <POPUPBITVALUEEDITOR maxRows = "5">
                    <BIT_VALUES ifdef = "locationZoneFlagsDialog"/>
                  </POPUPBITVALUEEDITOR>
                </FIELD>
              </EDITOR>
            </TABLE>
          </FLEXTABLECOMPONENT>                
        </TAB>

        <TAB title = "Zones">
          <FLEXTABLECOMPONENT name = "ZoneTable" 
                              init = "init" 
                              greenbar="true" 
                              showMode = "false"
                              records = "250"
                              rowHeight = "15"                                  
                              ignoreEventConcatenation = "true">

            <DBCONNECT type = "global" />
            <TRIGGER name = "LocationMaintFilter" />

            <TABLE key = "LocationMaintFilter:execute" >
              <SELECT sql = "call LocationZoneScreenV2(//MasterZone, 
                                                     //Zone,
                                                     //locationId,
                                                     //zoneStatus,
                                                     //zoneState,
                                                     //zoneFlag,
                                                     //locationStatus,
                                                     //locationState,
                                                     //locationFlag) " />
                                                     
              <UPDATE sql = "update LocationZones 
                               set flags = //Flags,
                                   status = //Status
                               where zoneId = //Zone" />                                   

              <TABLECOLUMNS >
                <TABLECOLUMN name = "ReplenEquipmentType"  
                             hide = "true" />
                <TABLECOLUMN name = "PickEquipmentType"  
                             hide = "true" />
                <TABLECOLUMN name = "ReplenRouteId"  
                             hide = "true" />
                <TABLECOLUMN name = "PickRouteId"  
                             hide = "true" />
                <TABLECOLUMN name = "CartonizationGroup"  
                             hide = "true" />
                <TABLECOLUMN name = "Flags"  
                             align = "right" />
              </TABLECOLUMNS>              

              <ALTVALUES>
                <FIELD name = "MasterZoneId" 
                       ifdef = "masterZoneIds" />

                <FIELD name = "Status" 
                       ifdef = "locationZoneStatuses" />
                       
                <FIELD name = "State" 
                       ifdef = "locationZoneStates" />
              </ALTVALUES>
              
              <EDITOR restoreHide = "true" 
                      title = "Order Line"
                      saveText = "Save" 
                      cancelText = "Cancel">
                <FIELD name = "Status" 
                       required = "true">
                  <COMBO loadEmptyItem = "true" 
                         ifdef = "locationZoneStatusesDialog"/>
                </FIELD>
                <FIELD name = "Flags" 
                       required = "true">
                  <POPUPBITVALUEEDITOR maxRows = "5">
                    <BIT_VALUES ifdef = "locationZoneFlagsDialog"/>
                  </POPUPBITVALUEEDITOR>
                </FIELD>
              </EDITOR>
            </TABLE>
          </FLEXTABLECOMPONENT>                
        </TAB>

        <TAB title = "Locations">
          <FLEXTABLECOMPONENT name = "LocationTable" 
                              init = "init" 
                              greenbar="true" 
                              showMode = "false"
                              records = "250"
                              rowHeight = "15"                                  
                              ignoreEventConcatenation = "true">

            <DBCONNECT type = "global" />
            <TRIGGER name = "LocationMaintFilter" />
            <TRIGGER name = "enableDisableLocation" />

            <TABLE key = "LocationMaintFilter:execute" >
              <SELECT sql = "call LocationZoneScreenLocationsV2(//MasterZone, 
                                                                //Zone,
                                                                //locationId,
                                                                //zoneStatus,
                                                                //zoneState,
                                                                //zoneFlag,
                                                                //locationStatus,
                                                                //locationState,
                                                                //locationFlag)" />
              <UPDATE sql = "update Locations
                                set flags = //Flags,
                                    state = //State,
                                    status = //Status,
                                    slotClass = //SlotClass
                              where locationId = //LocationId" />
              <ALTVALUES>
                <FIELD name = "Status"     
                       ifdef = "locationStatuses" />
                <FIELD name = "State"      
                       ifdef = "locationStates" />
              </ALTVALUES>
			  
              <TABLECOLUMNS >
                <TABLECOLUMN name = "CheckDigits"  
                             align = "right" />
                <TABLECOLUMN name = "Flags"  
                             align = "right" />
              </TABLECOLUMNS>    
			  
              <EDITOR restoreHide = "true" 
                      title = "Locations"
                      saveText = "Save" 
                      cancelText = "Cancel">
                <FIELD name = "SlotClass" 
                       required = "false">
                  <TEXTFIELD fieldsize = "5" cutpaste = "true" />
                </FIELD>
                
                <FIELD name = "State" 
                       required = "true">
                  <COMBO loadEmptyItem = "true" 
                         ifdef = "locationStatesDialog"/>
                </FIELD>
                
                <FIELD name = "Status" 
                       required = "true">
                  <COMBO loadEmptyItem = "true" 
                         ifdef = "locationStatusesDialog"/>
                </FIELD>
                
                <FIELD name = "Flags" 
                       required = "true">
                  <POPUPBITVALUEEDITOR maxRows = "5">
                    <BIT_VALUES ifdef = "locationFlagsDialog"/>
                  </POPUPBITVALUEEDITOR>
                </FIELD>
              </EDITOR>
            </TABLE>                 
          </FLEXTABLECOMPONENT>
        </TAB> 
      </TABPANE>
  </SPLITPANE>
</FLEXSCREEN>
